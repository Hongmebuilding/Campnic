<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<th:block th:with="dto=${camping}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script th:src="@{/js/write.js}"></script>

    <title>예약하기</title>
</head>

    <body>
    <th:block th:insert="~{common/header::header}"></th:block>

    <div class="container mt-3">
        <h2 id = dh2>예약</h2>

        <div class="row mt-5" th:if="${error }">
            <div class="col-12 text-danger" th:text="${error }">
                <!--/* 에러메세지 */-->
            </div>
        </div>

                <form th:action="@{/camp/reserve}" method="post">

                    <div class = write>
                        <input type="hidden" class="form-control" id="user" placeholder="user" name="user" th:value="${user}">
                    </div>

                <div class=detail>
                    <label>캠핑장 이름:</label>
                    <div class="border bg-light rounded p-2" >[[${dto.camp_name}]]</div>
                </div>
                <div class=detail>
                    <label>주소:</label>
                    <div class="border bg-light rounded p-2" >[[${dto.address}]]</div>
                </div>

                <div class=detail>
                    <label>예약자 명:</label>
                    <div class="border bg-light rounded p-2" >[[${name.name}]]</div>
                </div>

                <div class=detail>
                    <label>캠핑장 소개:</label>
                    <div class="border bg-light rounded p-2" >[[${dto.content}]]</div>
                </div>

                <div class=detail>
                    <label>시작 날짜:</label>
                    <input type="number" class="form-control" id="sdate" placeholder="입실 날짜" name="sdate" th:value="${sdate}" required>
                    <label>끝 날짜:</label>
                    <input type="number" class="form-control" id="edate" placeholder="퇴실 날짜" name="edate" th:value="${edate}" required>
                </div>

                    <table class="table table-hover">
                        <thead class="table-success">
                        <tr>
                            <th>번호</th>
                            <th>소개</th>
                            <th>가격</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="site : ${site}">
                            <td th:value="${site.number}">[[${site.number}]]</td>
                            <td th:value="${site.content}" >[[${site.content}]]</td>
                            <td th:value="${site.price}">[[${site.price}]]</td>
                            <td><button type="submit" class="btn btn-outline-dark" name = "campsite" id = "campsite" th:value="${site.id}" >예약하기</button></td>
                        </tr>
                        </tbody>
                    </table>
                <div id = dbutton>
                    <!-- 하단 링크 -->
                    <a class="btn btn-outline-dark" th:href="@{/camp/list}">목록으로</a>


                </div>

                </form>
                <!-- 하단 링크 -->
        </div>
    </body>
</th:block>
</html>
